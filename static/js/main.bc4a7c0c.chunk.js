(this["webpackJsonpscore-counter"]=this["webpackJsonpscore-counter"]||[]).push([[0],[,,,function(e,t,n){e.exports={root:"main-menu_root__gbbNW",title:"main-menu_title__gIWiH",players:"main-menu_players__3v2jy",playerHeading:"main-menu_playerHeading__1OuMG"}},function(e,t,n){e.exports={root:"player-score_root__2WlGd",playerName:"player-score_playerName__1fJ3V",playerScore:"player-score_playerScore__3VdiJ",bestOf:"player-score_bestOf__2LjVV"}},function(e,t,n){e.exports={root:"game-options_root__1VkP4",gameOption:"game-options_gameOption__27L7A"}},function(e,t,n){e.exports={root:"win-screen_root__2VlG3",heading:"win-screen_heading__2eeB1"}},,,function(e,t,n){e.exports={root:"score-screen_root__3JyKN"}},,function(e,t,n){e.exports={root:"player-options_root__1AmI3"}},function(e,t,n){e.exports={root:"reset-button_root__1hlLh"}},,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(8),s=n.n(c),i=(n(19),n(9)),u=n.n(i),l=n(1),m=n(2);!function(e){e[e.none=0]="none",e[e.p1=1]="p1",e[e.p2=2]="p2"}(a||(a={}));var f=o.a.createContext();var d=function(e){var t=function(){var e=Object(r.useState)({maxScore:11,winner:a.none,bestOf:3,isStarted:!1}),t=Object(m.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("gameState");e&&o(JSON.parse(e))}),[]),Object(r.useEffect)((function(){localStorage.setItem("gameState",JSON.stringify(n))}),[n]),Object(l.a)({},n,{setWinner:function(e){o((function(t){return Object(l.a)({},t,{winner:a[e]})}))},setMaxScore:function(e){o((function(t){return Object(l.a)({},t,{maxScore:e})}))},setBestOf:function(e){o((function(t){return Object(l.a)({},t,{bestOf:e})}))},setIsStarted:function(e){o((function(t){return Object(l.a)({},t,{isStarted:e})}))}})}();return o.a.createElement(f.Provider,{value:t},e.children)},v={name:"",score:0,gamesWon:0};var p=function(e){var t=Object(r.useContext)(f),n=t.maxScore,a=t.bestOf,o=t.setWinner,c=Object(r.useState)(v),s=Object(m.a)(c,2),i=s[0],u=s[1];return Object(r.useEffect)((function(){var t=localStorage.getItem(e);t&&u(JSON.parse(t));var n=function(){return u((function(e){return o("none"),Object(l.a)({},e,{score:0,gamesWon:0})}))},a=function(){return u((function(e){return Object(l.a)({},e,{score:0})}))};return window.addEventListener("resetGame",n),window.addEventListener("resetRound",a),function(){window.removeEventListener("resetGame",n),window.removeEventListener("resetRound",a)}}),[]),Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[i,e]),Object(r.useEffect)((function(){if(i.score===n){if(i.gamesWon+1===a)return o(e);dispatchEvent(new CustomEvent("resetRound")),u((function(e){return Object(l.a)({},e,{gamesWon:i.gamesWon+1})}))}}),[i.score]),Object(l.a)({},i,{scoreUp:function(){return u((function(e){return Object(l.a)({},e,{score:++i.score})}))},scoreDown:function(){return u((function(e){return Object(l.a)({},e,{score:0===i.score?i.score:--i.score})}))},updateName:function(e){return u((function(t){return Object(l.a)({},t,{name:e})}))}})},E=o.a.createContext(),b=function(e){var t=p("p1");return o.a.createElement(E.Provider,{value:t},e.children)},O=o.a.createContext(),g=function(e){var t=p("p2");return o.a.createElement(O.Provider,{value:t},e.children)},w=n(13),_=n(4),j=n.n(_),y=n(10),h=function(e){var t=e.name,n=e.score,a=e.scoreUp,c=e.scoreDown,s=e.playerNum,i=e.gamesWon,u=Object(r.useContext)(f),l=Object(y.a)((function(e){var t=e.swipe[1];t&&(t<0?a():c())}));return o.a.createElement("div",Object.assign({className:j.a.root},l()),o.a.createElement("h3",{className:j.a.playerName},t||"Player ".concat(s)),o.a.createElement("div",{className:j.a.playerScore},n),o.a.createElement("div",{className:j.a.bestOf},Object(w.a)(new Array(u.bestOf)).map((function(e,t){var n=t+1<=i;return o.a.createElement("span",{key:t,won:String(n)})}))))},N=function(){var e=Object(r.useContext)(f),t=Object(r.useContext)(E),n=Object(r.useContext)(O);return Object(r.useEffect)((function(){!t.score&&!n.score||e.isStarted||e.setIsStarted(!0);t.score}),[t.score,n.score]),o.a.createElement("div",{className:u.a.root},o.a.createElement(h,Object.assign({},t,{playerNum:1})),o.a.createElement(h,Object.assign({},n,{playerNum:2})))},x=function(){return window.innerWidth>window.innerHeight};var S=function(){var e=Object(r.useState)(x),t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(x)}return window.addEventListener("ondeviceorientation",e),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),function(){window.removeEventListener("ondeviceorientation",e),window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]),n},C=n(3),W=n.n(C),L=n(11),I=n.n(L),P=function(e){var t=e.playerContext,n=Object(r.useContext)(t),a=n.updateName,c=n.name;return o.a.createElement("div",{className:I.a.root},o.a.createElement("input",{type:"text",value:c,onChange:function(e){var t=e.target.value;a(t)}}))},k=n(5),J=n.n(k),G=[7,11,15,21],B=[3,5,7],H=function(){var e=Object(r.useContext)(f);return o.a.createElement("div",{className:J.a.root},o.a.createElement("div",{className:J.a.gameOption},o.a.createElement("label",{htmlFor:"game-points"},"Points:"),o.a.createElement("select",{id:"game-points",onChange:function(t){var n=t.target.value;e.setMaxScore(Number(n))}},G.map((function(t){var n=t===e.maxScore;return o.a.createElement("option",{key:t,value:t,selected:n},t)})))),o.a.createElement("div",{className:J.a.gameOption},o.a.createElement("label",{htmlFor:"game-best-of"},"Best of:"),o.a.createElement("select",{id:"game-best-of",onChange:function(t){var n=t.target.value;e.setBestOf(Number(n))}},B.map((function(t){var n=t===e.bestOf;return o.a.createElement("option",{key:t,value:t,selected:n},t)})))))},V=n(12),R=n.n(V),A=function(){var e=Object(r.useContext)(f);return o.a.createElement("button",{className:R.a.root,onClick:function(){(e.winner||window.confirm("Reset the game?"))&&(dispatchEvent(new CustomEvent("resetGame")),e.setIsStarted(!1))}},"Reset Game")},F=function(){var e=Object(r.useContext)(f);return o.a.createElement("div",{className:W.a.root},o.a.createElement("h1",{className:W.a.title},"Ping Pong Tournament"),o.a.createElement("div",{className:W.a.players},o.a.createElement("div",null,o.a.createElement("h3",{className:W.a.playerHeading},"Player 1"),o.a.createElement(P,{playerContext:E})),o.a.createElement("div",null,o.a.createElement("h3",{className:W.a.playerHeading},"Player 2"),o.a.createElement(P,{playerContext:O}))),e.isStarted?o.a.createElement(A,null):o.a.createElement(H,null))},M=n(6),z=n.n(M),D=function(){var e,t=Object(r.useContext)(f),n=Object(r.useContext)(E),c=Object(r.useContext)(O);return t.winner&&(e=t.winner===a.p1?n:c),e?o.a.createElement("div",{className:z.a.root},o.a.createElement("h3",{className:z.a.heading},e.name),o.a.createElement("h4",{className:z.a.heading},"Wins"),o.a.createElement(A,null)):null},U=function(){var e=S();return o.a.createElement(o.a.Fragment,null,e?o.a.createElement(N,null):o.a.createElement(F,null),o.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement((function(){return o.a.createElement(d,null,o.a.createElement(b,null,o.a.createElement(g,null,o.a.createElement(U,null))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.bc4a7c0c.chunk.js.map